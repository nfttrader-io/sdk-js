!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.NFTTraderSDK=t():e.NFTTraderSDK=t()}(this,(function(){return e={926:e=>{function t(e,t,n,r,a,i,s){try{var o=e[i](s),p=o.value}catch(e){return void n(e)}o.done?t(p):Promise.resolve(p).then(r,a)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(a,i){var s=e.apply(n,r);function o(e){t(s,a,i,o,p,"next",e)}function p(e){t(s,a,i,o,p,"throw",e)}o(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},757:(e,t,n)=>{e.exports=n(666)},714:e=>{e.exports={swap:{MAINNET:"",RINKEBY:"0xa562d875A22425FE6685dB46d6D39c8d458D3805",ROPSTEN:"",GOERLI:"",KOVAN:"",IMMUTABLE:"",POLYGON:"",XDAI:""},contractAbi:[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_swapId",type:"uint256"},{indexed:!0,internalType:"address",name:"_counterpart",type:"address"}],name:"counterpartEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"paymentReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_creator",type:"address"},{indexed:!0,internalType:"uint256",name:"_time",type:"uint256"},{indexed:!0,internalType:"enumNFTTraderSwapRoyalties.swapStatus",name:"_status",type:"uint8"},{indexed:!1,internalType:"uint256",name:"_swapId",type:"uint256"},{indexed:!1,internalType:"address",name:"_counterpart",type:"address"},{indexed:!1,internalType:"address",name:"_referral",type:"address"}],name:"swapEvent",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"bannedAddress",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"payment",outputs:[{internalType:"bool",name:"flagFlatFee",type:"bool"},{internalType:"bool",name:"flagRoyalties",type:"bool"},{internalType:"uint256",name:"flatFee",type:"uint256"},{internalType:"uint256",name:"bps",type:"uint256"},{internalType:"uint256",name:"scalePercent",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"referenceAddress",outputs:[{internalType:"address",name:"ROYALTYENGINEADDRESS",type:"address"},{internalType:"address",name:"TRADESQUAD",type:"address"},{internalType:"address",name:"PARTNERSQUAD",type:"address"},{internalType:"addresspayable",name:"VAULT",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive",payable:!0},{inputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"addresspayable",name:"addressMaker",type:"address"},{internalType:"bool",name:"discountMaker",type:"bool"},{internalType:"uint256",name:"valueMaker",type:"uint256"},{internalType:"uint256",name:"flatFeeMaker",type:"uint256"},{internalType:"addresspayable",name:"addressTaker",type:"address"},{internalType:"bool",name:"discountTaker",type:"bool"},{internalType:"uint256",name:"valueTaker",type:"uint256"},{internalType:"uint256",name:"flatFeeTaker",type:"uint256"},{internalType:"uint256",name:"swapStart",type:"uint256"},{internalType:"uint256",name:"swapEnd",type:"uint256"},{internalType:"bool",name:"flagFlatFee",type:"bool"},{internalType:"bool",name:"flagRoyalties",type:"bool"},{internalType:"enumNFTTraderSwapRoyalties.swapStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"royaltiesMaker",type:"uint256"},{internalType:"uint256",name:"royaltiesTaker",type:"uint256"}],internalType:"structNFTTraderSwapRoyalties.swapIntent",name:"_swapIntent",type:"tuple"},{components:[{internalType:"address",name:"dapp",type:"address"},{internalType:"enumNFTTraderSwapRoyalties.typeStd",name:"typeStd",type:"uint8"},{internalType:"uint256[]",name:"tokenId",type:"uint256[]"},{internalType:"uint256[]",name:"blc",type:"uint256[]"},{internalType:"uint256[]",name:"roy",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"structNFTTraderSwapRoyalties.swapStruct[]",name:"_nftsMaker",type:"tuple[]"},{components:[{internalType:"address",name:"dapp",type:"address"},{internalType:"enumNFTTraderSwapRoyalties.typeStd",name:"typeStd",type:"uint8"},{internalType:"uint256[]",name:"tokenId",type:"uint256[]"},{internalType:"uint256[]",name:"blc",type:"uint256[]"},{internalType:"uint256[]",name:"roy",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"structNFTTraderSwapRoyalties.swapStruct[]",name:"_nftsTaker",type:"tuple[]"},{internalType:"address",name:"_referral",type:"address"}],name:"createSwapIntent",outputs:[],stateMutability:"payable",type:"function",payable:!0},{inputs:[{internalType:"address",name:"_swapCreator",type:"address"},{internalType:"uint256",name:"_swapId",type:"uint256"},{internalType:"address",name:"_referral",type:"address"}],name:"closeSwapIntent",outputs:[],stateMutability:"payable",type:"function",payable:!0},{inputs:[{internalType:"uint256",name:"_swapId",type:"uint256"}],name:"cancelSwapIntent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_engineAddress",type:"address"},{internalType:"address",name:"_tradeSquad",type:"address"},{internalType:"address",name:"_partnerSquad",type:"address"},{internalType:"addresspayable",name:"_vault",type:"address"}],name:"setReferenceAddresses",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_flagFlatFee",type:"bool"},{internalType:"uint256",name:"_flatFee",type:"uint256"},{internalType:"bool",name:"_flagRoyalties",type:"bool"},{internalType:"uint256",name:"_bps",type:"uint256"},{internalType:"uint256",name:"_scalePercent",type:"uint256"}],name:"setPaymentStruct",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_dapp",type:"address"},{internalType:"bool",name:"_status",type:"bool"}],name:"setERC20Whitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_dapp",type:"address"},{internalType:"bool",name:"_status",type:"bool"}],name:"setNFTBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_swapId",type:"uint256"},{internalType:"addresspayable",name:"_counterPart",type:"address"}],name:"editCounterPart",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"flipRoyaltiesState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"flipBannedAddressState",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_paused",type:"bool"}],name:"pauseContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getERC20WhiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getNFTBlacklist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"_creator",type:"address"},{internalType:"uint256",name:"_swapId",type:"uint256"}],name:"getSwapIntentByAddress",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"addresspayable",name:"addressMaker",type:"address"},{internalType:"bool",name:"discountMaker",type:"bool"},{internalType:"uint256",name:"valueMaker",type:"uint256"},{internalType:"uint256",name:"flatFeeMaker",type:"uint256"},{internalType:"addresspayable",name:"addressTaker",type:"address"},{internalType:"bool",name:"discountTaker",type:"bool"},{internalType:"uint256",name:"valueTaker",type:"uint256"},{internalType:"uint256",name:"flatFeeTaker",type:"uint256"},{internalType:"uint256",name:"swapStart",type:"uint256"},{internalType:"uint256",name:"swapEnd",type:"uint256"},{internalType:"bool",name:"flagFlatFee",type:"bool"},{internalType:"bool",name:"flagRoyalties",type:"bool"},{internalType:"enumNFTTraderSwapRoyalties.swapStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"royaltiesMaker",type:"uint256"},{internalType:"uint256",name:"royaltiesTaker",type:"uint256"}],internalType:"structNFTTraderSwapRoyalties.swapIntent",name:"",type:"tuple"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"_swapId",type:"uint256"},{internalType:"bool",name:"_nfts",type:"bool"}],name:"getSwapStructSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"_swapId",type:"uint256"},{internalType:"bool",name:"_nfts",type:"bool"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"getSwapStruct",outputs:[{components:[{internalType:"address",name:"dapp",type:"address"},{internalType:"enumNFTTraderSwapRoyalties.typeStd",name:"typeStd",type:"uint8"},{internalType:"uint256[]",name:"tokenId",type:"uint256[]"},{internalType:"uint256[]",name:"blc",type:"uint256[]"},{internalType:"uint256[]",name:"roy",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"structNFTTraderSwapRoyalties.swapStruct",name:"",type:"tuple"}],stateMutability:"view",type:"function",constant:!0}],erc721Abi:[{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}],erc20Abi:[{inputs:[{internalType:"uint256",name:"chainId_",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"src",type:"address"},{indexed:!0,internalType:"address",name:"guy",type:"address"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!0,inputs:[{indexed:!0,internalType:"bytes4",name:"sig",type:"bytes4"},{indexed:!0,internalType:"address",name:"usr",type:"address"},{indexed:!0,internalType:"bytes32",name:"arg1",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"arg2",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"LogNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"src",type:"address"},{indexed:!0,internalType:"address",name:"dst",type:"address"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"guy",type:"address"}],name:"deny",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"move",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"holder",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"bool",name:"allowed",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"pull",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"push",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"guy",type:"address"}],name:"rely",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"wards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]}},319:e=>{e.exports={events:["createSwapTransactionCreated","createSwapTransactionMined","createSwapTransactionError","cancelSwapTransactionCreated","cancelSwapTransactionMined","cancelSwapTransactionError","closeSwapTransactionCreated","closeSwapTransactionMined","closeSwapTransactionError","editTakerTransactionCreated","editTakerTransactionMined","editTakerTransactionError"]}},579:(e,t,n)=>{var r=n(57);e.exports=r},57:(e,t,n)=>{var r=n(757),a=n(713),i=n(926);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=n(714),u=p.swap,y=p.contractAbi,c=p.erc721Abi,d=n(319).events;function l(e){var t=this,n=e.ethers,r=e.web3Provider,a=e.jsonRpcProvider,i=e.network,s=e.signer,o=void 0===s?null:s,p=e.avoidPrivateKeySigner,c=void 0!==p&&p;if(!n)throw new Error("You must provide an ethers instance to the SDK.");if(this.ethers=n,this.provider=null,this.contractAddress=null,this.contract=null,this.signer=null,this.isJsonRpcProvider=!1,this.isWeb3Provider=!1,this.blocksNumberConfirmationRequired=3,this.avoidPrivateKeySigner=c,this.events=d,this.eventsCollectorCallbacks=[],this.events.forEach((function(e){t.eventsCollectorCallbacks.push({name:e,callbacks:[]})})),r&&a)throw new Error("just one provider at a time is supported.");if("string"!=typeof a&&void 0!==a)throw new Error("jsonRpcProvider must be a string -> Eg. https://rinkeby.infura.io/v3/...");if("string"==typeof r&&void 0!==r)throw new Error("web3Provider must be an object -> Eg. window.ethereum");if(void 0===u[i])throw new Error("network not supported.");if("string"==typeof a){if(!1===this.avoidPrivateKeySigner){if(null==o)throw new Error("signer is mandatory if you use a JSON RPC Provider.");if(void 0===o.privateKey)throw new Error("signer object must have a privateKey property.")}this.isJsonRpcProvider=!0}null!=r&&(this.isWeb3Provider=!0);try{if(this.isJsonRpcProvider){if(this.provider=new this.ethers.providers.JsonRpcProvider(a),!1===this.avoidPrivateKeySigner)try{this.signer=new this.ethers.Wallet(o.privateKey,this.provider)}catch(e){throw new Error("provide a valid private key for the signer.")}}else this.isWeb3Provider&&(this.provider=new this.ethers.providers.Web3Provider(r));this.contractAddress=u[i],this.contract=new this.ethers.Contract(this.contractAddress,y,this.provider),this.isJsonRpcProvider&&!1===this.avoidPrivateKeySigner&&(this.contract=this.contract.connect(this.signer))}catch(e){throw new Error(e)}}l.prototype.on=function(e,t){var n=this.eventsCollectorCallbacks.find((function(t){return t.name===e}));if(!n)throw new Error("event not supported.");n.callbacks.push(t)},l.prototype.off=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.eventsCollectorCallbacks.find((function(t){return t.name===e}));if(!n)throw new Error("event not supported.");if(null!==t&&"function"!=typeof t&&void 0!==t)throw new Error("callback must be a Function.");if(t){var r=n.callbacks.findIndex((function(e){return e.toString()===t.toString()}));n.callbacks.splice(r,1)}else n.callbacks=[]},l.prototype.__emit=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.eventsCollectorCallbacks.find((function(t){return t.name===e}));if(!n)throw new Error(error);n.callbacks.forEach((function(e){e(t)}))},l.prototype.setBlocksNumberConfirmationRequired=function(e){if(e<1)throw new Error("blocksNumberConfirmationRequired cannot be lower than one.");this.blocksNumberConfirmationRequired=e},l.prototype.createSwap=function(){var e=i(r.mark((function e(t){var n,a,i,s,p,u,y,d,l,m,h,f,b,v,w,T,g,k,S,E,x,A,P,_,M,R,F,N,I,C,O,L,j,D,W,K,U,B,G,J,Y,q,Q,z,V,H,X=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ethMaker,a=t.taker,i=t.ethTaker,s=t.swapEnd,p=void 0===s?0:s,u=t.assetsMaker,y=void 0===u?[]:u,d=t.assetsTaker,l=void 0===d?[]:d,m=t.referralAddress,h=void 0===m?"0x0000000000000000000000000000000000000000":m,f=X.length>1&&void 0!==X[1]?X[1]:2e6,b=X.length>2&&void 0!==X[2]?X[2]:null,!this.avoidPrivateKeySigner||!this.isJsonRpcProvider){e.next=5;break}throw new Error("you cannot create a swap when you're in jsonRpcProvider mode with avoidPrivateKeySigner param set to true. In this mode you should just read data from the blockchain, not write a transaction.");case 5:if(!(p<0)){e.next=7;break}throw new Error("swapEnd cannot be lower than zero.");case 7:if(v=0,!this.isJsonRpcProvider){e.next=12;break}e.t0=this.signer.address,e.next=15;break;case 12:return e.next=14,this.provider.listAccounts();case 14:e.t0=e.sent[0];case 15:return w=e.t0,T=!1,g=this.ethers.BigNumber.from(n.toString()),k=0,S=a,E=!1,x=this.ethers.BigNumber.from(i.toString()),A=0,P=0,_=!1,M=!1,R=0,F=0,N=0,I=[v,w,T,g.toString(),k,S,E,x.toString(),A,P,p,_,M,R,F,N],C=!1,e.prev=31,e.next=34,this.getPayment();case 34:return L=e.sent,j=L.flagFlatFee,D=L.flatFee,O=j?D.toNumber():0,e.next=40,this.getReferenceAddress();case 40:return W=e.sent,K=W.TRADESQUAD,U=W.PARTNERSQUAD,B=new this.ethers.Contract(K,c,this.provider),G=new this.ethers.Contract(U,c,this.provider),e.next=47,B.balanceOf(w);case 47:return J=e.sent,e.next=50,G.balanceOf(w);case 50:Y=e.sent,(J.toNumber()>0||Y.toNumber()>0)&&(C=!0),e.next=57;break;case 54:throw e.prev=54,e.t1=e.catch(31),new Error(e.t1);case 57:return(q={}).value=C?g.toString():g.add(O).toString(),f&&(q.gasLimit=f),b&&(q.gasPrice=b),z=this.contract,this.isWeb3Provider&&(Q=this.provider.getSigner(w),z=this.contract.connect(Q)),e.prev=63,e.next=66,z.createSwapIntent(I,y,l,h,o({},q));case 66:return V=e.sent,this.__emit("createSwapTransactionCreated",{tx:V}),e.prev=68,e.next=71,V.wait(this.blocksNumberConfirmationRequired);case 71:H=e.sent,this.__emit("createSwapTransactionMined",{receipt:H}),e.next=78;break;case 75:e.prev=75,e.t2=e.catch(68),this.__emit("createSwapTransactionError",{error:e.t2,typeError:"waitError"});case 78:e.next=83;break;case 80:e.prev=80,e.t3=e.catch(63),this.__emit("createSwapTransactionError",{error:e.t3,typeError:"createSwapIntentError"});case 83:case"end":return e.stop()}}),e,this,[[31,54],[63,80],[68,75]])})));return function(t){return e.apply(this,arguments)}}(),l.prototype.closeSwap=function(){var e=i(r.mark((function e(t){var n,a,i,s,p,u,y,d,l,m,h,f,b,v,w,T,g,k,S,E,x,A,P,_,M,R,F,N=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.maker,a=t.swapId,i=t.referralAddress,s=void 0===i?"0x0000000000000000000000000000000000000000":i,p=N.length>1&&void 0!==N[1]?N[1]:2e6,u=N.length>2&&void 0!==N[2]?N[2]:null,!this.avoidPrivateKeySigner||!this.isJsonRpcProvider){e.next=5;break}throw new Error("you cannot close a swap when you're in jsonRpcProvider mode with avoidPrivateKeySigner param set to true. In this mode you should just read data from the blockchain, not write a transaction.");case 5:return e.prev=5,y=!1,e.next=9,this.getPayment();case 9:if(d=e.sent,l=d.flagFlatFee,m=d.flatFee,h=l?m.toNumber():0,!this.isJsonRpcProvider){e.next=17;break}e.t0=this.signer.address,e.next=20;break;case 17:return e.next=19,this.provider.listAccounts();case 19:e.t0=e.sent[0];case 20:return f=e.t0,e.next=23,this.getSwapDetails(n,a);case 23:return b=e.sent,v=b.valueTaker,e.next=27,this.getReferenceAddress();case 27:return w=e.sent,T=w.TRADESQUAD,g=w.PARTNERSQUAD,k=new this.ethers.Contract(T,c,this.provider),S=new this.ethers.Contract(g,c,this.provider),e.next=34,k.balanceOf(f);case 34:return E=e.sent,e.next=37,S.balanceOf(f);case 37:if(x=e.sent,(A={}).value=y?v.toString():v.add(h).toString(),p&&(A.gasLimit=p),u&&(A.gasPrice=u),(E.toNumber()>0||x.toNumber()>0)&&(y=!0),M=this.contract,!this.isWeb3Provider){e.next=50;break}return e.next=47,this.provider.listAccounts();case 47:P=e.sent[0],_=this.provider.getSigner(P),M=this.contract.connect(_);case 50:return e.prev=50,e.next=53,M.closeSwapIntent(n,a,s,o({},A));case 53:return R=e.sent,this.__emit("closeSwapTransactionCreated",{tx:R}),e.prev=55,e.next=58,R.wait(this.blocksNumberConfirmationRequired);case 58:F=e.sent,this.__emit("closeSwapTransactionMined",{receipt:F}),e.next=65;break;case 62:e.prev=62,e.t1=e.catch(55),this.__emit("closeSwapTransactionError",{error:e.t1,typeError:"waitError"});case 65:e.next=70;break;case 67:e.prev=67,e.t2=e.catch(50),this.__emit("closeSwapTransactionError",{error:e.t2,typeError:"closeSwapIntentError"});case 70:e.next=75;break;case 72:throw e.prev=72,e.t3=e.catch(5),new Error(e.t3);case 75:case"end":return e.stop()}}),e,this,[[5,72],[50,67],[55,62]])})));return function(t){return e.apply(this,arguments)}}(),l.prototype.cancelSwap=function(){var e=i(r.mark((function e(t){var n,a,i,s,p,u,y,c,d=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:2e6,a=d.length>2&&void 0!==d[2]?d[2]:null,!this.avoidPrivateKeySigner||!this.isJsonRpcProvider){e.next=4;break}throw new Error("you cannot cancel a swap when you're in jsonRpcProvider mode with avoidPrivateKeySigner param set to true. In this mode you should just read data from the blockchain, not write a transaction.");case 4:if(i={},n&&(i.gasLimit=n),a&&(i.gasPrice=a),u=this.contract,!this.isWeb3Provider){e.next=14;break}return e.next=11,this.provider.listAccounts();case 11:s=e.sent[0],p=this.provider.getSigner(s),u=this.contract.connect(p);case 14:return e.prev=14,e.next=17,u.cancelSwapIntent(t,o({},i));case 17:return y=e.sent,this.__emit("cancelSwapTransactionCreated",{tx:y}),e.prev=19,e.next=22,y.wait(this.blocksNumberConfirmationRequired);case 22:c=e.sent,this.__emit("cancelSwapTransactionMined",{receipt:c}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(19),this.__emit("cancelSwapTransactionError",{error:e.t0,typeError:"waitError"});case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(14),this.__emit("cancelSwapTransactionError",{error:e.t1,typeError:"cancelSwapIntentError"});case 34:case"end":return e.stop()}}),e,this,[[14,31],[19,26]])})));return function(t){return e.apply(this,arguments)}}(),l.prototype.editTaker=function(){var e=i(r.mark((function e(t,n){var a,i,s,p,u,y,c,d,l=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>2&&void 0!==l[2]?l[2]:2e6,i=l.length>3&&void 0!==l[3]?l[3]:null,!this.avoidPrivateKeySigner||!this.isJsonRpcProvider){e.next=4;break}throw new Error("you cannot edit the taker of a swap when you're in jsonRpcProvider mode with avoidPrivateKeySigner param set to true. In this mode you should just read data from the blockchain, not write a transaction.");case 4:if(s={},a&&(s.gasLimit=a),i&&(s.gasPrice=i),y=this.contract,!this.isWeb3Provider){e.next=14;break}return e.next=11,this.provider.listAccounts();case 11:p=e.sent[0],u=this.provider.getSigner(p),y=this.contract.connect(u);case 14:return e.prev=14,e.next=17,y.editCounterPart(t,n,o({},s));case 17:return c=e.sent,this.__emit("editTakerTransactionCreated",{tx:c}),e.prev=19,e.next=22,d.wait(this.blocksNumberConfirmationRequired);case 22:d=e.sent,this.__emit("editTakerTransactionMined",{receipt}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(19),this.__emit("editTakerTransactionError",{error:e.t0,typeError:"waitError"});case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(14),this.__emit("editTakerTransactionError",{error:e.t1,typeError:"editCounterpartError"});case 34:case"end":return e.stop()}}),e,this,[[14,31],[19,26]])})));return function(t,n){return e.apply(this,arguments)}}(),l.prototype.getSwapDetails=function(){var e=i(r.mark((function e(t,n){var a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.getSwapIntentByAddress(t,n);case 3:return a=e.sent,id=a.id,addressMaker=a.addressMaker,discountMaker=a.discountMaker,valueMaker=a.valueMaker,flatFeeMaker=a.flatFeeMaker,addressTaker=a.addressTaker,discountTaker=a.discountTaker,valueTaker=a.valueTaker,flatFeeTaker=a.flatFeeTaker,swapStart=a.swapStart,swapEnd=a.swapEnd,flagFlatFee=a.flagFlatFee,flagRoyalties=a.flagRoyalties,status=a.status,royaltiesMaker=a.royaltiesMaker,royaltiesTaker=a.royaltiesTaker,e.abrupt("return",a);case 23:throw e.prev=23,e.t0=e.catch(0),new Error(e.t0);case 26:case"end":return e.stop()}}),e,this,[[0,23]])})));return function(t,n){return e.apply(this,arguments)}}(),l.prototype.getSwapAssets=function(){var e=i(r.mark((function e(t){var n,a,i,s,o,p;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.getSwapStructSize(t,!0);case 3:return n=e.sent,e.next=6,this.contract.getSwapStructSize(t,!1);case 6:a=e.sent,i=[],s=[],o=0;case 10:if(!(o<n)){e.next=19;break}return e.t0=i,e.next=14,this.contract.getSwapStruct(t,!0,o);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:o++,e.next=10;break;case 19:p=0;case 20:if(!(p<a)){e.next=29;break}return e.t2=s,e.next=24,this.contract.getSwapStruct(t,!1,p);case 24:e.t3=e.sent,e.t2.push.call(e.t2,e.t3);case 26:p++,e.next=20;break;case 29:return e.abrupt("return",{assetsMaker:i,assetsTaker:s});case 32:throw e.prev=32,e.t4=e.catch(0),new Error(e.t4);case 35:case"end":return e.stop()}}),e,this,[[0,32]])})));return function(t){return e.apply(this,arguments)}}(),l.prototype.isERC20WhiteListed=function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.getERC20WhiteList(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),l.prototype.isNFTBlacklisted=function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.getNFTBlacklist(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),l.prototype.getPayment=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.payment();case 3:return t=e.sent,flagFlatFee=t.flagFlatFee,flagRoyalties=t.flagRoyalties,flatFee=t.flatFee,bps=t.bps,scalePercent=t.scalePercent,e.abrupt("return",t);case 12:throw e.prev=12,e.t0=e.catch(0),new Error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),l.prototype.getReferenceAddress=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.referenceAddress();case 3:return t=e.sent,ROYALTYENGINEADDRESS=t.ROYALTYENGINEADDRESS,TRADESQUAD=t.TRADESQUAD,PARTNERSQUAD=t.PARTNERSQUAD,VAULT=t.VAULT,e.abrupt("return",t);case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),l.prototype.isBannedAddress=function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.contract.bannedAddress(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),l.prototype.getEthersJSInstance=function(){return this.ethers},l.prototype.AssetsArray=function(){this.assetsArrayEthers=this.ethers,this.assetsArray=[],this.tokenConstants={ERC20:0,ERC721:1,ERC1155:2}},l.prototype.AssetsArray.prototype.addERC20Asset=function(e,t){if(isNaN(t))throw new Error("tokenAmount must be a numeric value.");this.assetsArray.push([e,this.tokenConstants.ERC20,[],[this.assetsArrayEthers.BigNumber.from(t.toString()).toString()],[0],[]])},l.prototype.AssetsArray.prototype.addERC721Asset=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(t instanceof Array))throw new Error("tokenIds must be an array.");if(0===t.length)throw new Error("tokenIds must have at least one element.");this.assetsArray.push([e,this.tokenConstants.ERC721,t,[],[],[]])},l.prototype.AssetsArray.prototype.addERC1155Asset=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!(t instanceof Array))throw new Error("tokenIds must be an array.");if(!(n instanceof Array))throw new Error("tokenAmounts must be an array.");if(t.length!==n.length)throw new Error("tokenIds array must have the same size of tokenAmounts array.");if(0===t.length)throw new Error("tokenIds must have at least one element.");if(0===n.length)throw new Error("tokenAmounts must have at least one element.");this.assetsArray.push([e,this.tokenConstants.ERC1155,t,n,[],[]])},l.prototype.AssetsArray.prototype.clearAssetsArray=function(){this.assetsArray=[]},l.prototype.AssetsArray.prototype.getAssetsArray=function(){return this.assetsArray},l.prototype.WebSocketProvider=function(e){var t=e.wssUrl,n=e.network,r=void 0===n?null:n;if("string"!=typeof t)throw new Error("wssUrl must be a string.");this.webSocketProviderEthers=this.ethers;try{this.webSocketProvider=r?new this.webSocketProviderEthers.providers.WebSocketProvider(t):new this.webSocketProviderEthers.providers.WebSocketProvider(t,r),this.contractAddressWebSocketProvider=this.contractAddress}catch(e){throw new Error(e)}},l.prototype.WebSocketProvider.prototype.onSwapEvent=function(e,t){var n=t.creator,r=void 0===n?null:n,a=t.time,i=void 0===a?null:a,s=t.status,o=void 0===s?null:s;if(null==e)throw new Error("callback must be provided");if("function"!=typeof e)throw new Error("callback must be a Function.");var p={address:this.contractAddressWebSocketProvider,topics:[this.webSocketProviderEthers.utils.id("swapEvent(address,uint256,uint8,uint256,address,address)"),r||null,i||null,o||null]};this.webSocketProvider.on(p,(function(t){e(t)}))},l.prototype.WebSocketProvider.prototype.onCounterpartEvent=function(e,t){var n=t.swapId,r=void 0===n?null:n,a=t.counterpart,i=void 0===a?null:a;if(null==e)throw new Error("callback must be provided");if("function"!=typeof e)throw new Error("callback must be a Function.");var s={address:this.contractAddressWebSocketProvider,topics:[this.webSocketProviderEthers.utils.id("counterpartEvent(uint256,address)"),r||null,i||null]};this.webSocketProvider.on(s,(function(t){e(t)}))},l.prototype.WebSocketProvider.prototype.onPaymentReceived=function(e,t){var n=t.payer,r=void 0===n?null:n;if(null==e)throw new Error("callback must be provided");if("function"!=typeof e)throw new Error("callback must be a Function.");var a={address:this.contractAddressWebSocketProvider,topics:[this.webSocketProviderEthers.utils.id("paymentReceived(address,uint256)"),r||null]};this.webSocketProvider.on(a,(function(t){e(t)}))},e.exports=l},666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),s=new _(r||[]);return i._invoke=function(e,t,n){var r=c;return function(a,i){if(r===l)throw new Error("Generator is already running");if(r===m){if("throw"===a)throw i;return R()}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var o=x(s,n);if(o){if(o===h)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=l;var p=y(e,t,n);if("normal"===p.type){if(r=n.done?m:d,p.arg===h)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(r=m,n.method="throw",n.arg=p.arg)}}}(e,n,s),i}function y(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var c="suspendedStart",d="suspendedYield",l="executing",m="completed",h={};function f(){}function b(){}function v(){}var w={};p(w,i,(function(){return this}));var T=Object.getPrototypeOf,g=T&&T(T(M([])));g&&g!==n&&r.call(g,i)&&(w=g);var k=v.prototype=f.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,i,s,o){var p=y(e[a],e,i);if("throw"!==p.type){var u=p.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(c).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,o)}))}o(p.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=y(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function M(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,s=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:R}}function R(){return{value:t,done:!0}}return b.prototype=v,p(k,"constructor",v),p(v,"constructor",b),b.displayName=p(v,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,p(e,o,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},S(E.prototype),p(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var s=new E(u(t,n,r,a),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(k),p(k,o,"Generator"),p(k,i,(function(){return this})),p(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return o.type="throw",o.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var p=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(p&&u){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(p){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={},function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(579);var e,t}));